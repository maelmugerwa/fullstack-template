// Prisma schema file for SQLite database
// Learn more about Prisma: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Task {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  completed   Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("tasks")
}

// ==============================================================================
// COMMON PATTERNS FOR INTERVIEWS (Uncomment to use)
// ==============================================================================

// --- USER AUTHENTICATION ---
// model User {
//   id        Int      @id @default(autoincrement())
//   email     String   @unique
//   name      String
//   password  String   // Store hashed password
//   tasks     Task[]
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   
//   @@index([email])
// }
// 
// Then add to Task:
//   userId Int
//   user   User @relation(fields: [userId], references: [id])
//   @@index([userId])

// --- ONE-TO-ONE RELATION ---
// model Profile {
//   id     Int     @id @default(autoincrement())
//   bio    String?
//   avatar String?
//   userId Int     @unique  // ‚Üê Must be unique
//   user   User    @relation(fields: [userId], references: [id], onDelete: Cascade)
// }

// --- MANY-TO-MANY ---
// model Tag {
//   id    Int    @id @default(autoincrement())
//   name  String @unique
//   tasks Task[]
// }
// 
// Then add to Task:
//   tags Tag[]

// --- SOFT DELETE ---
// Add to any model:
//   deletedAt DateTime?
// 
// Query with: where: { deletedAt: null }

// --- ENUMS (PostgreSQL/MySQL only, not SQLite) ---
// enum Status {
//   TODO
//   IN_PROGRESS
//   DONE
// }
// 
// For SQLite use: status String @default("TODO")

// --- JSON METADATA ---
// Add to any model:
//   metadata Json?
// 
// Store: { settings: { theme: "dark" }, preferences: {...} }

// --- COMPOSITE INDEX ---
// For queries filtering by multiple fields:
//   @@index([userId, completed])
//   @@index([status, priority, createdAt])